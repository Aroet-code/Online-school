@echo off
chcp 65001 >nul
echo ๐ ะะฐะฟััะบ ัะตัะฒะตัะฐ ัะบะพะปั ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั...
echo ๐ฆ ะะพะดะณะพัะฐะฒะปะธะฒะฐะตะผ ััะตะดั...

:: ะกะพะทะดะฐะตะผ ะฟะฐะฟะบั data ะตัะปะธ ะตั ะฝะตั
if not exist data mkdir data

:: ะะตัะตัะพะดะธะผ ะฒ ะฟะฐะฟะบั backend/go
cd src\backend\go

:: ะัะพะฒะตััะตะผ, ัััะฐะฝะพะฒะปะตะฝ ะปะธ Go
where go >nul 2>nul
if %errorlevel% neq 0 (
    echo โ Go ะฝะต ะฝะฐะนะดะตะฝ. ะฃััะฐะฝะพะฒะธัะต Go ั https://go.dev/dl/
    pause
    exit /b
)

echo ๐ง ะัะพะฒะตััะตะผ ะทะฐะฒะธัะธะผะพััะธ...
go mod tidy

echo โ ะะพัะพะฒะพ ะบ ะทะฐะฟััะบั
echo ๐ฏ ะะฐะฟััะบะฐะตะผ ัะตัะฒะตั...
echo.
echo ๐ ะกะตัะฒะตั ะฑัะดะตั ะดะพัััะฟะตะฝ ะฟะพ: http://localhost:8080
echo ๐ API ะบัััะพะฒ: http://localhost:8080/api/courses
echo ๐ฉบ ะัะพะฒะตัะบะฐ ะทะดะพัะพะฒัั: http://localhost:8080/api/health
echo ๐ ะะฐะทะฐ ะดะฐะฝะฝัั ัะพะทะดะฐะตััั ะฒ: ..\..\data\school.db
echo ๐ ะคัะพะฝัะตะฝะด ะพะฑัะปัะถะธะฒะฐะตััั ะธะท: ..\..\frontend\
echo ----------------------------------------
echo โน๏ธ  ะะปั ะพััะฐะฝะพะฒะบะธ ัะตัะฒะตัะฐ ะทะฐะบัะพะนัะต ััะพ ะพะบะฝะพ
echo.

:: ะะฐะฟััะบะฐะตะผ ัะตัะฒะตั
go run main.go db.go
